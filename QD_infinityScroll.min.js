/**
* Infinity Scroll
* @author Carlos Vinicius [Quatro Digital]
* @version 3.12
* @license MIT
*/
"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});
(function(c){"function"!==typeof c.fn.QD_infinityScroll&&(window._QuatroDigital_InfinityScroll=window._QuatroDigital_InfinityScroll||{},c.fn.QD_infinityScroll=function(p){var a=window._QuatroDigital_InfinityScroll,f=function(a,c){if("object"===typeof console&&"undefined"!==typeof console.error&&"undefined"!==typeof console.info&&"undefined"!==typeof console.warn){var b;"object"===typeof a?(a.unshift("[Infinity Scroll]\n"),b=a):b=["[Infinity Scroll]\n"+a];if("undefined"===typeof c||"alerta"!==c.toLowerCase()&&
"aviso"!==c.toLowerCase())if("undefined"!==typeof c&&"info"===c.toLowerCase())try{console.info.apply(console,b)}catch(d){try{console.info(b.join("\n"))}catch(f){}}else try{console.error.apply(console,b)}catch(e){try{console.error(b.join("\n"))}catch(u){}}else try{console.warn.apply(console,b)}catch(g){try{console.warn(b.join("\n"))}catch(h){}}}},q={lastShelf:">div:last",elemLoading:'\x3c!-- Infinity Scroll - Loading message --\x3e<div id="scrollLoading" class="qd-is-loading">Carregando ... </div>',
searchUrl:null,returnToTop:c('<div id="returnToTop" class="qd-is-return-top"><a href="#"><span class="text">voltar ao</span><span class="text2">TOPO</span><span class="arrowToTop"></span></a></div>'),scrollBy:document,callback:function(){},getShelfHeight:function(a){return a.scrollTop()+a.height()},paginate:null,insertContent:function(a,b){a.after(b)},authorizeScroll:function(){return!0}},d=jQuery.extend({},q,p),b=jQuery(this);jQuery("");if(1>b.length)return b;1<b.length&&(f("Identifiquei que a seletor informado ("+
b.selector+") retornou "+b.length+" elementos.\n Para solucionar o problema estou selecionando autom\u00e1ticamente o primeiro com o id: #"+(b.filter("[id^=ResultItems]:first").attr("id")||"!Not Found"),"Aviso"),b=b.filter("[id^=ResultItems]:first"));b.filter("[id^=ResultItems]").length||f(["Certifique-se que esta selecionando o elemento correto.\n O plugin espera que o elemento seja o que cont\u00e9m o id: #"+(c("div[id^=ResultItems]").attr("id")||"!Not Found"),c("div[id^=ResultItems]")],"Info");
b.parent().filter("[id^=ResultItems]").length&&(b=b.parent(),f(["Identifiquei que o seletor pai do elemento que voc\u00ea informou \u00e9 o #"+(jQuery("div[id^=ResultItems]").attr("id")||"!Not Found")+".\n Como forma de corrigir esse problema de sele\u00e7\u00e3o de elemento, assumirei a prateleira correta.",b],"Aviso"));c("body").append(d.returnToTop);var e=c(window),r=c(document),g=c(d.scrollBy),h=c(d.elemLoading);a.toTopE=c(d.returnToTop);a.moreResults=!0;a.currentPage=2;var t=function(){var a,
b=/\/buscapagina\?.+&PageNumber=/i,d=/\/paginaprateleira\?.+PageNumber=/i;c("script:not([src])").each(function(){var c=this.innerHTML;if(-1<c.indexOf("buscapagina"))return a=b.exec(c),!1;if(-1<c.indexOf("paginaprateleira"))return a=d.exec(c),!1});if("object"===typeof a&&"undefined"!==typeof a[0])return a[0].replace("paginaprateleira","buscapagina");f("N\u00e3o foi poss\u00edvel localizar a url de busca da p\u00e1gina.\n Tente adicionar o .js ao final da p\u00e1gina. \n[M\u00e9todo: getSearchUrl]");
return""};(function(){var b=e.height();e.bind("resize.QD_infinityScroll",function(){b=e.height()});var c=0;g.bind("scroll.QD_infinityScroll",function(){clearTimeout(c);c=setTimeout(function(){r.scrollTop()>b?document.body.getAttribute("data-qd-infinity-scroll")||document.body.setAttribute("data-qd-infinity-scroll",1):document.body.getAttribute("data-qd-infinity-scroll")&&document.body.removeAttribute("data-qd-infinity-scroll")},20)});a.buttonToTop=a.toTopE.find("a").bind("click.QD_infinityScroll",
function(){jQuery("html,body").animate({scrollTop:0},"slow");return!1})})();(function(){a.searchUrl=null!==d.searchUrl?d.searchUrl:t();a.currentStatus=!0;var k=c(".pager[id*=PagerTop]:first").attr("id")||"";if(""!==k&&(a.pages=window["pagecount_"+k.split("_").pop()],"undefined"===typeof a.pages))for(var l in window)if(/pagecount_[0-9]+/.test(l)){a.pages=window[l];break}"undefined"===typeof a.pages&&(a.pages=9999999999999);var m=function(){if(a.currentStatus){var e=b.find(d.lastShelf);if(1>e.length)return f("\u00daltima Prateleira/Vitrine n\u00e3o encontrada \n ("+
e.selector+")"),!1;e.after(h);a.currentStatus=!1;var g=a.currentPage;c.ajax({url:a.searchUrl.replace(/pagenumber\=[0-9]*/i,"PageNumber="+a.currentPage),dataType:"html",success:function(b){1>b.trim().length?(a.moreResults=!1,f("N\u00e3o existem mais resultados a partir da p\u00e1gina: "+g,"Aviso"),c(window).trigger("QuatroDigital.is_noMoreResults")):d.insertContent(e,b);a.currentStatus=!0;h.remove()},error:function(){f("Houve um erro na requisi\u00e7\u00e3o Ajax de uma nova p\u00e1gina.")},complete:function(a,
b){d.callback();c(window).trigger("QuatroDigital.is_Callback")}});a.currentPage++}};if("function"===typeof d.paginate)d.paginate(function(){return a.currentPage<=a.pages&&a.moreResults?(m(),!0):!1});else{var n=0;g.bind("scroll.QD_infinityScroll_paginate",function(){clearTimeout(n);n=setTimeout(function(){a.currentPage<=a.pages&&a.moreResults&&d.authorizeScroll()&&e.scrollTop()+e.height()>=d.getShelfHeight(b)&&m()},70)})}})();return b})})(jQuery);